(this["webpackJsonpquiz-it-app-client"]=this["webpackJsonpquiz-it-app-client"]||[]).push([[0],{108:function(e,t,n){},110:function(e,t,n){},140:function(e,t,n){},142:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},157:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(15),a=n.n(i),r=(n(99),n(17)),o=n(28),l=n(9),d=n(23),u=n(51);u.a.initializeApp({apiKey:"AIzaSyAp0IB-zmCINEGEYt7Hjru2ptOa_R9Rjrg",authDomain:"the-other-side-e1c97.firebaseapp.com",projectId:"the-other-side-e1c97",storageBucket:"the-other-side-e1c97.appspot.com",messagingSenderId:"1018488103082",appId:"1:1018488103082:web:5d289c572205777652b0d3",measurementId:"G-GN4J8VJEBB"}),u.a.analytics(),u.a.auth();var j=u.a,b=(n(103),n(108),n(109),n(110),n(78)),h=n(80),O=n.n(h),p=(n(140),n(3)),x=function(){return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsxs)("h1",{className:"blue",style:{fontSize:"5rem"},children:[Object(p.jsx)("b",{style:{fontweight:600},children:"Quiz"}),"It"]}),Object(p.jsx)(O.a,{color:"#29455a",width:130,height:130,type:"BallTriangle"})]})},m=function(e){var t=e.setUser,n=Object(c.useState)(!0),s=Object(l.a)(n,2),i=s[0],a=s[1],r={signInflow:"popup",signInOptions:[j.auth.GoogleAuthProvider.PROVIDER_ID,j.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return Object(c.useEffect)((function(){var e=!0;return j.auth().onAuthStateChanged((function(n){n&&e?(t({uid:j.auth().currentUser.uid,name:j.auth().currentUser.displayName,email:j.auth().currentUser.email}),console.log("User Logged In")):(console.log("User Signed Out"),t({})),console.log("auth change"),e&&a(!1)})),function(){return e=!1}}),[t]),Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)(x,{}):Object(p.jsxs)("div",{id:"Home",children:[Object(p.jsxs)("div",{id:"logo",children:[Object(p.jsxs)("div",{id:"logo-name",children:[Object(p.jsx)("b",{style:{fontweight:600},children:"Quiz"}),"It"]}),Object(p.jsx)("div",{id:"description"})]}),Object(p.jsxs)("div",{id:"login-card",children:[Object(p.jsx)("label",{className:"login-label",children:Object(p.jsx)("b",{children:"Login"})}),Object(p.jsx)(b.StyledFirebaseAuth,{borderRadius:"40px",uiConfig:r,firebaseAuth:j.auth()}),"}"]})]})})},f=(n(142),function(e){e.user;var t=Object(c.useState)(""),n=Object(l.a)(t,2),s=n[0],i=n[1];return s.length>0?Object(p.jsx)(d.a,{push:!0,to:s}):Object(p.jsx)("div",{className:"one-time-dashboard",children:Object(p.jsxs)("div",{id:"dashboard-content",children:[Object(p.jsxs)("div",{className:"dash-btns",children:[Object(p.jsxs)("h1",{className:"white",children:[Object(p.jsx)("b",{style:{fontweight:600},children:"Quiz"}),"It"]}),Object(p.jsx)("button",{className:"button one-time-button",onClick:function(){return i("/dashboard")},children:"Dashboard"}),Object(p.jsx)("button",{className:"button one-time-button",onClick:function(){return i("/create-quiz")},children:"Create Quiz"}),Object(p.jsx)("button",{className:"button one-time-button",onClick:function(){return i("/join-quiz")},children:"Join Quiz"})]}),Object(p.jsxs)("div",{className:"blob-svg",children:[Object(p.jsx)("svg",{className:"blob-1",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:Object(p.jsx)("path",{fill:"#FFE6E6",d:"M55.6,-59.6C71.1,-53.2,82.1,-34.8,85.2,-15.3C88.2,4.2,83.3,24.7,73,41.7C62.7,58.6,46.8,72,29.8,75.4C12.7,78.9,-5.7,72.5,-21.3,64.3C-36.8,56.1,-49.6,46,-55.3,33.3C-61,20.6,-59.6,5.2,-56.6,-9.6C-53.6,-24.4,-48.8,-38.4,-39.1,-45.8C-29.4,-53.2,-14.7,-53.8,2.7,-57C20,-60.2,40.1,-65.9,55.6,-59.6Z",transform:"translate(100 100)"})}),Object(p.jsx)("svg",{className:"blob-3",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:Object(p.jsx)("path",{fill:"#FFE6E6",d:"M37.2,-46.1C50.9,-32.8,66.5,-23.6,68.1,-12.3C69.8,-0.9,57.5,12.6,48.4,27.5C39.3,42.4,33.3,58.7,22.7,62.7C12.1,66.7,-3,58.3,-21.7,54C-40.3,49.6,-62.5,49.2,-72.9,38.5C-83.4,27.8,-82.2,6.8,-75.6,-10.4C-69.1,-27.5,-57.2,-40.7,-43.7,-54C-30.2,-67.3,-15.1,-80.6,-1.7,-78.6C11.8,-76.6,23.5,-59.3,37.2,-46.1Z",transform:"translate(100 100)"})})]})]})})}),v=n(22),g=(n(148),n(193)),y=n(163),N=n(220),C=n(198),z=(n(149),n(197)),S=n(199),k=n(200),w=Object(g.a)((function(e){return{root:{},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:0,width:"90%",borderRadius:"10px"},buttons:{display:"flex",justifyContent:"flex-end"}}}));function q(e){var t=e.type,n=void 0===t?"add":t,i=e.title,a=void 0===i?"":i,r=e.opType,o=void 0===r?"radio":r,d=e.opArray,u=e.index,j=void 0===u?-1:u,b=e.addQuestionHandle,h=w(),O=s.a.useState(!1),x=Object(l.a)(O,2),m=x[0],f=x[1],g=Object(c.useState)("radio"),q=Object(l.a)(g,2),Q=q[0],I=q[1],A=Object(c.useState)([]),P=Object(l.a)(A,2),E=P[0],T=P[1],R=Object(c.useState)(null),U=Object(l.a)(R,2),J=U[0],_=U[1],F=Object(c.useState)(-1),D=Object(l.a)(F,2),M=D[0],B=D[1],G=Object(c.useState)(""),H=Object(l.a)(G,2),W=H[0],Z=H[1],L=Object(c.useRef)(null),Y=Object(c.useRef)(null);Object(c.useEffect)((function(){m?(Z(a),I(o),d&&T(d)):(Z(""),T([]),I("radio"))}),[m,a,o,d]);var V=function(){f(!0)};return Object(p.jsxs)("div",{className:h.root,children:["add"===n?Object(p.jsx)("button",{className:"button",onClick:V,children:"Add Question"}):Object(p.jsx)(y.a,{onClick:V,children:Object(p.jsx)(z.a,{})}),Object(p.jsx)(N.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:h.modal,open:m,disableEnforceFocus:!0,children:Object(p.jsxs)("div",{className:h.paper,children:[Object(p.jsxs)("div",{className:"questionCard",children:[Object(p.jsx)("div",{id:"title",children:"Question:"}),Object(p.jsx)("input",{type:"text",autoFocus:!0,value:W,onChange:function(e){return Z(e.target.value)},className:"input-text question",placeholder:"Type Question Here"}),Object(p.jsxs)("select",{id:"select",placeholder:"Select",onChange:function(e){return I(e.target.value)},children:[Object(p.jsx)("option",{className:"selectOp",value:"radio",children:"Single Answer"}),Object(p.jsx)("option",{className:"selectOp",value:"check",children:"Multiple Answers"})]}),Object(p.jsx)("div",{className:"option-div",children:Object(p.jsx)("div",{className:"options",id:"one-op",children:E.map((function(e,t){return Object(p.jsxs)("div",{className:"option",children:[Object(p.jsx)("input",{type:"radio"===Q?"radio":"checkbox",disabled:!0,className:"radio-in",name:"option",checked:e.isCorrect}),M===t?Object(p.jsx)("input",{value:J,onChange:function(e){return _(e.target.value)}}):Object(p.jsx)("div",{className:"add-op",children:e.text}),M===t?Object(p.jsx)(C.a,{className:"save-icon",onClick:function(){return function(){var e=Object(v.a)(E);e[M].text=J,T(e),B(-1)}()},children:Object(p.jsx)(S.a,{})}):Object(p.jsx)(C.a,{className:"edit-icon",onClick:function(){return function(e){-1===M&&(B(e),_(E[e].text))}(t)},children:Object(p.jsx)(z.a,{})}),Object(p.jsx)(C.a,{className:"delete-icon",onClick:function(){!function(e){var t=Object(v.a)(E);t.splice(e,1),T(t),B(-1)}(t)},children:Object(p.jsx)(k.a,{})})]},t)}))})}),Object(p.jsxs)("div",{className:"add-op",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio"===Q?"radio":"checkbox",ref:Y,className:"radio-in",name:"option"}),Object(p.jsx)("input",{type:"text",ref:L,className:"input-text op-text",placeholder:"Option ".concat(E.length+1)})]}),Object(p.jsx)("input",{type:"submit",className:"add-btn",value:"+ Add",onClick:function(){if(0!==L.current.value.length){var e=Object(v.a)(E);-1===E.findIndex((function(e){return e.text===L.current.value}))?("radio"===Q&&Y.current.checked&&e.forEach((function(e){return e.isCorrect=!1})),e.push({text:L.current.value,isCorrect:Y.current.checked}),L.current.value="",Y.current.checked=!1,T(e)):alert("Option already exists.")}}})]})]}),Object(p.jsxs)("div",{className:h.buttons,children:[Object(p.jsx)("button",{className:"add-btn",onClick:function(){f(!1)},children:"Close"}),Object(p.jsxs)("button",{className:"button",color:"secondary",variant:"contained",onClick:function(){var e=Object(v.a)(E);(0!==L.current.value.length&&("radio"===Q&&Y.current.checked&&e.forEach((function(e){return e.isCorrect=!1})),e.push({text:L.current.value,isCorrect:Y.current.checked})),!W.length&&E.length<2)?alert("Please add Question and atleast 2 options."):W.length?E.length<2?alert("Number of Options must be greater than 1."):E.filter((function(e){return e.isCorrect})).length<1?alert("No correct option was selected."):(-1!==j?b(W,Q,e,j):b(W,Q,e),f(!1)):alert("Please add Question.")},children:["add"===n?"Add ":"Edit ","Question"]})]})]})})]})}var Q=n(31),I=n(6),A=n(24),P=n(209),E=n(210),T=n(203),R=n(208),U=n(201),J=n(219),_=n(202),F=n(222),D=n(204),M=n(205),B=n(207),G=n(221),H=n(206);function W(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Z(e,t){return"desc"===e?function(e,n){return W(e,n,t)}:function(e,n){return-W(e,n,t)}}function L(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var c=t(e[0],n[0]);return 0!==c?c:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Y=[{id:"title",numeric:!1,disablePadding:!0,label:"Question"},{id:"options",numeric:!0,disablePadding:!1,label:"Options"},{id:"choice",numeric:!0,disablePadding:!1,label:"Choice"},{id:"edit",numeric:!0,disablePadding:!1,label:"Edit"}];function V(e){var t=e.classes,n=e.onSelectAllClick,c=e.order,s=e.orderBy,i=e.numSelected,a=e.rowCount,r=e.onRequestSort;return Object(p.jsx)(U.a,{children:Object(p.jsxs)(_.a,{children:[Object(p.jsx)(T.a,{padding:"checkbox",children:Object(p.jsx)(G.a,{indeterminate:i>0&&i<a,checked:a>0&&i===a,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),Y.map((function(e){return Object(p.jsx)(T.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:s===e.id&&c,children:Object(p.jsxs)(F.a,{active:s===e.id,direction:s===e.id?c:"asc",onClick:(n=e.id,function(e){r(e,n)}),children:[e.label,s===e.id?Object(p.jsx)("span",{className:t.visuallyHidden,children:"desc"===c?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var K=Object(g.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(A.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),X=function(e){var t=K(),n=e.numSelected,c=e.selected,s=e.setSelected,i=e.questionArray,a=e.setQuestionArray;return Object(p.jsxs)(D.a,{className:Object(I.a)(t.root,Object(Q.a)({},t.highlight,n>0)),children:[n>0?Object(p.jsxs)(M.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(p.jsx)(M.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"QUESTIONS"}),n>0?Object(p.jsx)(y.a,{onClick:function(){var e=Object(v.a)(i);c.forEach((function(t){var n=e.findIndex((function(e){return e.title===t}));e.splice(n,1)})),a(e),s([])},"aria-label":"delete",children:Object(p.jsx)(H.a,{})}):null]})},$=Object(g.a)((function(e){return{root:{width:"95%",margin:"5px"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ee(e){var t=e.questionArray,n=e.setQuestionArray,c=t.map((function(e){return t=e.title,n=e.options,c=e.optionType,{title:t,options:n,choice:c};var t,n,c})),i=$(),a=s.a.useState("asc"),r=Object(l.a)(a,2),o=r[0],d=r[1],u=s.a.useState(""),j=Object(l.a)(u,2),b=j[0],h=j[1],O=s.a.useState([]),x=Object(l.a)(O,2),m=x[0],f=x[1],g=s.a.useState(0),y=Object(l.a)(g,2),N=y[0],C=y[1],z=s.a.useState(1),S=Object(l.a)(z,2),k=S[0],w=S[1],Q=function(e,c,s,i){var a=Object(v.a)(t);a[i]={title:e,optionType:c,options:s},n(a)},I=k-Math.min(k,c.length-N*k);return Object(p.jsx)("div",{className:i.root,children:Object(p.jsxs)(B.a,{className:i.paper,children:[Object(p.jsx)(X,{numSelected:m.length,selected:m,setSelected:f,questionArray:t,setQuestionArray:n}),Object(p.jsx)(R.a,{children:Object(p.jsxs)(P.a,{className:i.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[Object(p.jsx)(V,{classes:i,numSelected:m.length,order:o,orderBy:b,onSelectAllClick:function(e){if(e.target.checked){var t=c.map((function(e){return e.title}));f(t)}else f([])},onRequestSort:function(e,t){d(b===t&&"asc"===o?"desc":"asc"),h(t)},rowCount:c.length}),Object(p.jsxs)(E.a,{children:[L(c,Z(o,b)).slice(N*k,N*k+k).map((function(e,t){var n,c=(n=e.title,-1!==m.indexOf(n)),s="enhanced-table-checkbox-".concat(t);return Object(p.jsxs)(_.a,{hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(p.jsx)(T.a,{padding:"checkbox",children:Object(p.jsx)(G.a,{onClick:function(t){return function(e,t){var n=m.indexOf(t),c=[];-1===n?c=c.concat(m,t):0===n?c=c.concat(m.slice(1)):n===m.length-1?c=c.concat(m.slice(0,-1)):n>0&&(c=c.concat(m.slice(0,n),m.slice(n+1))),f(c)}(0,e.title)},checked:c,inputProps:{"aria-labelledby":s}})}),Object(p.jsx)(T.a,{component:"th",id:s,scope:"row",padding:"none",children:e.title}),Object(p.jsx)(T.a,{align:"right",children:e.options.length}),Object(p.jsx)(T.a,{align:"right",children:"radio"===e.choice?"Single":"Multiple"}),Object(p.jsx)(T.a,{align:"right",children:Object(p.jsx)(q,{type:"edit",title:e.title,opType:e.choice,opArray:e.options,index:t,addQuestionHandle:Q},t)})]},e.title)})),I>0&&Object(p.jsx)(_.a,{style:{height:33*I},children:Object(p.jsx)(T.a,{colSpan:6})})]})]})}),Object(p.jsx)(J.a,{rowsPerPageOptions:[1],component:"div",count:c.length,rowsPerPage:k,page:N,onPageChange:function(e,t){C(t)},onRowsPerPageChange:function(e){w(parseInt(e.target.value,10)),C(0)}})]})})}var te=n(211),ne=function(e){var t=e.user,n=e.quizTitle,s=e.questions,i=e.isOpen,a=e.editQuizHandle,u=Object(c.useState)([]),j=Object(l.a)(u,2),b=j[0],h=j[1],O=Object(c.useState)(""),m=Object(l.a)(O,2),f=m[0],g=m[1],y=Object(c.useState)(!0),N=Object(l.a)(y,2),C=N[0],z=N[1],S=Object(c.useState)("stop"),k=Object(l.a)(S,2),w=k[0],Q=k[1],I=Object(c.useState)(null),A=Object(l.a)(I,2),P=A[0],E=A[1];Object(c.useEffect)((function(){n&&(g(n),h(s),z(i))}),[n,s,i]);var T=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.length||b.length){e.next=5;break}return alert("Please add title and questions."),e.abrupt("return");case 5:if(f.length){e.next=10;break}return alert("Please add Quiz title."),e.abrupt("return");case 10:if(b.length){e.next=13;break}return alert("Please add any questions."),e.abrupt("return");case 13:return console.log("Quiz Creation Starts..."),Q("start"),e.prev=15,e.next=18,fetch("/API/quizzes/create",{method:"POST",body:JSON.stringify({title:f,uid:t.uid,questions:b,isOpen:C}),headers:{"Content-Type":"application/json"}});case 18:return n=e.sent,console.log("Quiz posted ! "),e.next=22,n.json();case 22:c=e.sent,console.log("Quiz Code : ",c.quizId),E(c.quizId),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(15),console.log("Quiz creation error : ",e.t0),Q("error");case 31:case"end":return e.stop()}}),e,null,[[15,27]])})));return function(){return e.apply(this,arguments)}}();return P?Object(p.jsx)(d.a,{push:!0,to:"/created-succesfully/".concat(P)}):"start"===w?Object(p.jsx)(x,{}):Object(p.jsxs)("div",{id:"main-body",children:[Object(p.jsxs)("div",{id:"create-quiz-body",children:[Object(p.jsx)("div",{className:"quiz-header",children:Object(p.jsx)("input",{type:"text",className:"input-text",value:f,onChange:function(e){return g(e.target.value)},id:"quiz-title",placeholder:"Untitled Quiz",autoFocus:!0,autocomplete:"off"})}),Object(p.jsxs)("div",{className:"controls",children:[Object(p.jsx)(q,{addQuestionHandle:function(e,t,n){var c=Object(v.a)(b);c.push({title:e,optionType:t,options:n}),h(c)}}),Object(p.jsxs)("div",{className:"switch",children:[Object(p.jsx)(te.a,{checked:C,onChange:function(e){return z(e.target.checked)},color:"secondary",name:"access"}),Object(p.jsx)("h4",{children:C?"Public":"Private"})]})]})]}),Object(p.jsx)("div",{className:"questionTable",children:Object(p.jsx)(ee,{questionArray:b,setQuestionArray:h})}),Object(p.jsxs)("div",{children:[n&&Object(p.jsx)("button",{className:"add-btn",onClick:function(){return a()},children:"Close"}),Object(p.jsxs)("button",{className:"button wd-200",onClick:function(){n?a(f,b,C):T()},children:[n?"Save ":"Create ","Quiz"]})]})]})},ce=(n(151),function(){var e=Object(c.useState)("false"),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),a=Object(l.a)(i,2),r=a[0],o=a[1],u=function(){r.length&&s("attempt-quiz")};return"false"!==n?Object(p.jsx)(d.a,{push:!0,to:"/".concat(n,"/").concat(r)}):Object(p.jsx)("div",{id:"join-quiz",children:Object(p.jsxs)("div",{id:"join-quiz-div",children:[Object(p.jsxs)("div",{id:"logo-name",children:[Object(p.jsx)("b",{style:{fontweight:600},children:"Quiz"}),"It"]}),Object(p.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},id:"q-code",type:"text",placeholder:"Enter Quiz Code",autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&u()}}),Object(p.jsx)("button",{className:"join-button",onClick:u,children:"Join Quiz"})]})})}),se=(n(152),n(21)),ie=(n(75),function(e){var t=e.title,n=e.responses,c=e.code,s=e.questions,i=e.isOpen,a=e.index,r=e.setEditQuiz;return Object(p.jsxs)("div",{className:"quiz-card",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{id:"created-quiz-title",children:t}),Object(p.jsxs)("p",{className:"card-code",children:["Code: ",c]})]}),Object(p.jsx)("div",{id:"horizontal-line"}),Object(p.jsxs)("div",{id:"row",children:[Object(p.jsx)("div",{id:"responses",children:Object(p.jsxs)(se.b,{to:"/responses/".concat(c),style:{fontWeight:"bold"},children:["Responses : ",n]})}),Object(p.jsxs)("div",{id:"questions",children:["Questions : ",s]})]}),Object(p.jsxs)("div",{className:"bottom-bar",children:[i?Object(p.jsx)("div",{id:"open",children:"open"}):Object(p.jsx)("div",{id:"closed",children:"closed"}),Object(p.jsx)(y.a,{onClick:function(){return r([a])},children:Object(p.jsx)(z.a,{})})]})]})}),ae=function(e){var t=e.title,n=e.score,c=e.questions;return Object(p.jsxs)("div",{className:"quiz-card",children:[Object(p.jsx)("h1",{id:"created-quiz-title",children:t}),Object(p.jsx)("div",{id:"horizontal-line"}),Object(p.jsxs)("div",{id:"row",children:[Object(p.jsxs)("div",{id:"responses",children:["Score : ",n]}),Object(p.jsxs)("div",{id:"questions",children:["Questions : ",c]})]}),Object(p.jsx)("div",{id:"open"})]})},re=function(e){var t=e.user,n=Object(c.useState)([]),s=Object(l.a)(n,2),i=s[0],a=s[1],d=Object(c.useState)([]),u=Object(l.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(!0),O=Object(l.a)(h,2),m=O[0],f=O[1],g=Object(c.useState)([]),y=Object(l.a)(g,2),N=y[0],C=y[1];Object(c.useEffect)((function(){if(t.uid){var e=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/API/users/".concat(t.uid));case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).createdQuiz&&a(c.createdQuiz),c.attemptedQuiz&&b(c.attemptedQuiz),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&e()}else f(!1)}),[t]);var z=function(){var e=Object(o.a)(Object(r.a)().mark((function e(n,c,s){var o,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}C([]),e.next=20;break;case 4:return f(!0),console.dir({quizId:i[N]._id,uid:t.uid,title:n,questions:c,isOpen:s}),e.next=8,fetch("/API/quizzes/edit",{method:"POST",body:JSON.stringify({quizId:i[N]._id,uid:t.uid,title:n,questions:c,isOpen:s}),headers:{"Content-Type":"application/json"}});case 8:return o=e.sent,e.next=11,o.json();case 11:l=e.sent,console.dir(l),(d=Object(v.a)(i))[N[0]].title=n,d[N[0]].questions=c,d[N[0]].isOpen=s,a(d),C([]),f(!1);case 20:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();return m?Object(p.jsx)(x,{}):N.length?Object(p.jsx)(ne,{user:t,quizTitle:i[N].title,questions:i[N].questions,isOpen:i[N].isOpen,editQuizHandle:z}):Object(p.jsxs)("div",{className:"dash-body",children:[Object(p.jsxs)("div",{className:"quizzes",children:[Object(p.jsxs)("div",{className:"heading",children:[Object(p.jsx)("div",{className:"line-left"}),Object(p.jsx)("h2",{children:"Created "}),Object(p.jsx)("div",{className:"line"})]}),Object(p.jsx)("div",{className:"card-holder",children:i.map((function(e,t){return Object(p.jsx)(ie,{index:t,setEditQuiz:C,title:e.title,code:e._id,responses:e.responses,questions:e.questions.length,isOpen:e.isOpen},t)}))})]}),Object(p.jsxs)("div",{className:"quizzes",children:[Object(p.jsxs)("div",{className:"heading",children:[Object(p.jsx)("div",{className:"line-left"}),Object(p.jsx)("h2",{children:"Attempted "}),Object(p.jsx)("div",{className:"line"})]}),Object(p.jsx)("div",{className:"card-holder",children:j.map((function(e,t){return Object(p.jsx)(ae,{title:e.title,score:e.responses[0].score,questions:e.totalQuestions},t)}))})]})]})},oe=(n(153),n(83)),le=function(e){var t=e.match,n=Object(c.useState)("copy"),s=Object(l.a)(n,2),i=s[0],a=s[1];return Object(p.jsx)("div",{id:"created-quiz",children:Object(p.jsxs)("div",{id:"created-quiz-div",children:[Object(p.jsxs)("div",{id:"message",children:[Object(p.jsx)("h2",{className:"b",children:"Quiz Created Successfully!"}),Object(p.jsx)("p",{children:"Share the follwong code with your students"})]}),Object(p.jsx)("input",{type:"text",id:i,value:t.params.quizCode,disabled:!0}),Object(p.jsx)(oe.CopyToClipboard,{text:t.params.quizCode,onCopy:function(){a("copied")},children:Object(p.jsx)("button",{className:"button wd-200",children:"copy"===i?"Copy Code":"Code Copied!"})}),Object(p.jsx)(se.b,{to:"/dashboard",children:Object(p.jsx)("button",{className:"button wd-200",children:"Dashboard"})})]})})},de=function(){return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsx)("h1",{children:"404 Page Not Found!"}),Object(p.jsxs)("div",{id:"logo-name",children:["The",Object(p.jsx)("b",{children:" Other "})," Side"]}),Object(p.jsxs)("h3",{children:[Object(p.jsx)(se.b,{to:"/",children:"Click here"})," and Go back to the Dashboard."]})]})},ue=Object(g.a)((function(e){return{root:{},modal:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(10,10),borderRadius:"20px"},buttons:{display:"flex",justifyContent:"flex-end"}}})),je=function(e){var t=e.result,n=e.totalScore,s=e.showModal,i=e.uid,a=ue(),d=Object(c.useState)(s),u=Object(l.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(0),O=Object(l.a)(h,2),x=O[0],m=O[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),g=v[0],y=v[1];return Object(c.useEffect)((function(){b(s);var e=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t,n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/API/users/".concat(i,"/maxScore"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c=n.maxScore,m(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t.score>x&&y(!0)}),[s]),Object(p.jsx)("div",{className:a.root,children:Object(p.jsx)(N.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:j,disableEnforceFocus:!0,children:Object(p.jsxs)("div",{className:a.paper,children:[Object(p.jsx)("h2",{children:"Quiz Attempted Successfully."}),Object(p.jsx)("h1",{className:"score_h2",children:t.error?"Not Submitted ! ":"Score: ".concat(parseInt(t.score,10).toFixed(0),"/").concat(n)}),Object(p.jsx)("h1",{className:"score_h2",children:!0===g?"Great! You have achieved new record!":"Maybe next time "}),Object(p.jsx)(se.b,{to:"/",children:Object(p.jsx)("button",{className:"button wd-200",children:"Main Menu"})})]})})})},be=n(62),he=(n(157),n(158),n(159),function(e){var t=e.match.params.quizCode,n=Object(c.useState)(""),s=Object(l.a)(n,2),i=s[0],a=s[1],u=Object(c.useState)([]),b=Object(l.a)(u,2),h=b[0],O=b[1],m=Object(c.useState)([]),f=Object(l.a)(m,2),g=f[0],y=f[1],N=Object(c.useState)(""),C=Object(l.a)(N,2),z=C[0],S=C[1],k=Object(c.useState)([]),w=Object(l.a)(k,2),q=(w[0],w[1]),Q=Object(c.useState)(!0),I=Object(l.a)(Q,2),A=I[0],P=I[1],E=Object(c.useState)({}),T=Object(l.a)(E,2),R=T[0],U=T[1],J=Object(c.useState)(!1),_=Object(l.a)(J,2),F=_[0],D=_[1],M=Object(c.useState)(0),B=Object(l.a)(M,2),G=B[0],H=B[1],W=Object(c.useState)(1),Z=Object(l.a)(W,2),L=Z[0],Y=(Z[1],Object(c.useState)("false")),V=Object(l.a)(Y,2),K=V[0],X=V[1],$=Object(c.useState)(!1),ee=Object(l.a)($,2),te=(ee[0],ee[1],j.auth().currentUser.uid);Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var n,c,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/API/quizzes/join",{method:"POST",body:JSON.stringify({quizId:t,uid:te}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,P(!1),c.error?S(c.error):(S(c.title),O(c.questions),q(c.answers),s=c.questions.map((function(e){return{id:e.id,title:e.title,optionType:e.optionType,selectedOptions:[]}})),console.log("AttemptedQuiz line 43 AttemptedQuestions: ",s),y(s));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t,n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/API/users/".concat(te,"/lastQuestion"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.lastQuestion,H(c),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),n()}),[t,te]);var ne=function(e,t,n){console.log("handleOptionSelect");var c=Object(v.a)(g),s=c[n].selectedOptions;if(console.log("index:"+n),!s.includes(t)&&e.target.checked&&("radio"===g[n].optionType?s[0]=t:s.push(t)),s.includes(t)&&!e.target.checked){var i=s.indexOf(t);s.splice(i,1)}c[n].selectedOptions=s,console.log("TEMP[index]:"+c),console.log("AttemptedQuiz line 80 AttemptedQuestions: ",c),y(c)},ce=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/API/quizzes/submit",{method:"POST",body:JSON.stringify({uid:te,quizId:t,questions:g}),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,U(c),D(!0),console.log("res body : ",c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error Submitting quiz",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a("/"),e.prev=1,e.next=4,fetch("/API/users/paused",{method:"POST",body:JSON.stringify({uid:te,lastQuestion:G}),headers:{"Content-Type":"application/json"}});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error posting quiz checkpoint",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();if(A)return Object(p.jsx)(x,{});if(0!==i.length)return Object(p.jsx)(d.a,{push:!0,to:i});if("ERR:QUIZ_NOT_FOUND"===z)return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsx)("h1",{children:"404 Quiz Not Found!"}),Object(p.jsxs)("div",{id:"logo-name",children:[Object(p.jsx)("b",{children:"Quiz"}),"App"]}),Object(p.jsxs)("h3",{children:["Go back to ",Object(p.jsx)(se.b,{to:"/join-quiz",children:"Join Quiz "}),"Page."]})]});if("ERR:QUIZ_ACCESS_DENIED"===z)return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsx)("h2",{children:"Quiz Access is Not Granted by the Creator. Please contact Quiz Creator."}),Object(p.jsxs)("div",{id:"logo-name",children:[Object(p.jsx)("b",{children:"Quiz"}),"App"]}),Object(p.jsxs)("h3",{children:["Go back to ",Object(p.jsx)(se.b,{to:"/join-quiz",children:"Join Quiz "}),"Page."]})]});if("ERR:QUIZ_ALREADY_ATTEMPTED"===z)return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsx)("h2",{children:"You have already taken the Quiz."}),Object(p.jsxs)("div",{id:"logo-name",children:[Object(p.jsx)("b",{children:"Quiz"}),"App"]}),Object(p.jsxs)("h3",{children:["Go back to ",Object(p.jsx)(se.b,{to:"/join-quiz",children:"Join Quiz "}),"Page."]})]});var ae=h.slice(G,G+L);return Object(p.jsx)("div",{id:"main-body",children:Object(p.jsxs)("div",{id:"create-quiz-body",children:[Object(p.jsx)("div",{className:"quiz-header",children:Object(p.jsx)("h2",{children:z})}),ae.map((function(e,t){return Object(p.jsxs)("div",{className:"attempQuestionCard",children:[Object(p.jsx)("div",{id:"title",children:e.title}),Object(p.jsx)("div",{className:"option-div",children:e.options.map((function(n,c){return Object(p.jsxs)("div",{className:"option",children:["radio"===e.optionType?Object(p.jsx)("input",{type:"radio",name:"react-radio-btn",value:"option".concat(c),checked:(s="option".concat(c),K===s),onChange:function(e){!function(e){console.log("AttemptQuiz line 87: ",e.currentTarget.value),X(e.currentTarget.value)}(e),ne(e,n.text,G)}}):Object(p.jsx)("input",{type:"checkbox",name:"option",onChange:function(e){return ne(e,n.text,t)}}),Object(p.jsx)("label",{className:"label-answers",children:n.text})]},c);var s}))})]},t)})),G===h.length-1&&Object(p.jsx)("button",{className:"button wd-200",onClick:ce,children:"Submit"}),G!==h.length-1&&Object(p.jsx)("button",{className:"button wd-200",onClick:function(){X("false"),H(G+1)},children:"Next Question"}),6===G&&Object(p.jsx)(be.a,{trigger:Object(p.jsx)("button",{className:"button wd-200",children:"Bonus I"}),children:Object(p.jsx)("div",{className:"popup-content",children:Object(p.jsx)("a",{href:"https://iep.utm.edu/empathy-sympathy-in-ethics/",target:"_blank",rel:"noreferrer",style:{fontSize:"5px"},children:"I. Watch to gain empathy!"})})}),13===G&&Object(p.jsx)(be.a,{trigger:Object(p.jsx)("button",{className:"button wd-200",children:"Bonus II"}),children:Object(p.jsx)("div",{className:"popup-content",children:Object(p.jsx)("a",{href:"https://youtu.be/1Evwgu369Jw",target:"_blank",rel:"noreferrer",style:{fontSize:"5px"},children:"II. Watch to gain empathy!"})})}),19===G&&Object(p.jsx)(be.a,{trigger:Object(p.jsx)("button",{className:"button wd-200",children:"Bonus III"}),children:Object(p.jsx)("div",{className:"popup-content",children:Object(p.jsx)("a",{href:"https://en.wikipedia.org/wiki/Empathy",target:"_blank",rel:"noreferrer",style:{fontSize:"5px"},children:"III. Watch to gain empathy!"})})}),Object(p.jsx)("button",{className:"button wd-200",onClick:ie,children:"Pause Game"}),Object(p.jsx)(je,{result:R,showModal:F,totalScore:h.length,uid:te})]})})}),Oe=(n(160),n(212)),pe=n(213),xe=n(214),me=n(215),fe=n(216),ve=n(217);var ge=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],i=[{title:"Main Menu",path:"/",icon:Object(p.jsx)(Oe.a,{}),CName:"nav-text"},{title:"Dashboard",path:"/dashboard",icon:Object(p.jsx)(pe.a,{}),CName:"nav-text"},{title:"Join Quiz",path:"/join-quiz",icon:Object(p.jsx)(Oe.a,{}),CName:"nav-text"},{title:"Create Quiz",path:"/create-quiz",icon:Object(p.jsx)(xe.a,{}),CName:"nav-text"}],a=Object(c.useState)(!1),r=Object(l.a)(a,2),o=r[0],u=r[1],b=function(){return u(!o)};return n?Object(p.jsx)(d.a,{to:"/"}):Object(p.jsxs)("div",{children:[Object(p.jsx)(C.a,{className:"menu-bars",onClick:b,children:Object(p.jsx)(me.a,{})}),Object(p.jsx)("nav",{className:o?"nav-menu active":"nav-menu",children:Object(p.jsxs)("ul",{className:"nav-menu-items",onClick:b,children:[Object(p.jsx)("li",{className:"navbar-toggle",children:Object(p.jsx)(C.a,{children:Object(p.jsx)(fe.a,{fontSize:"large"})})}),i.map((function(e,t){return Object(p.jsx)("li",{className:"nav-text",children:Object(p.jsxs)(se.b,{to:e.path,children:[Object(p.jsx)(C.a,{children:e.icon}),Object(p.jsx)("span",{className:"nav-item-title",children:e.title})]})},t)})),Object(p.jsx)("li",{className:"nav-text sign-out",children:Object(p.jsxs)("button",{onClick:function(){console.log("clicked"),j.auth().signOut(),s(!0)},children:[Object(p.jsx)(C.a,{children:Object(p.jsx)(ve.a,{})}),Object(p.jsx)("span",{className:"nav-item-title",children:"SignOut"})]})})]})})]})},ye=(n(161),n(218)),Ne=function(e){var t=e.user;e.setUser;return Object(p.jsxs)("div",{className:"appbar",children:[Object(p.jsxs)("div",{className:"slider",children:[Object(p.jsx)(ge,{}),Object(p.jsxs)(se.b,{to:"/",className:"home",children:[Object(p.jsx)("b",{style:{fontweight:600},children:"Quiz"}),"It"]})]}),Object(p.jsxs)("div",{className:"appbar-user",children:[Object(p.jsx)(C.a,{children:Object(p.jsx)(ye.a,{})}),Object(p.jsx)("p",{children:t.name})]})]})},Ce=n(10),ze=Object(Ce.a)((function(e){return{head:{backgroundColor:"#d81e5b",color:e.palette.common.white},body:{fontSize:14}}}))(T.a),Se=Object(Ce.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(_.a);var ke=Object(g.a)({table:{minWidth:500},paper:{borderRadius:15}});function we(e){var t=e.responses,n=ke(),c=t.map((function(e){return{name:(t=e).name,email:t.email,score:t.score};var t}));return Object(p.jsx)(R.a,{className:n.paper,component:B.a,children:Object(p.jsxs)(P.a,{className:n.table,"aria-label":"customized table",children:[Object(p.jsx)(U.a,{children:Object(p.jsxs)(_.a,{children:[Object(p.jsx)(ze,{children:"Name"}),Object(p.jsx)(ze,{align:"center",children:"Email Address"}),Object(p.jsx)(ze,{align:"right",children:"Score"})]})}),Object(p.jsx)(E.a,{children:c.map((function(e){return Object(p.jsxs)(Se,{children:[Object(p.jsx)(ze,{component:"th",scope:"row",children:e.name}),Object(p.jsx)(ze,{align:"center",children:e.email}),Object(p.jsx)(ze,{align:"right",children:e.score})]},e.name)}))})]})})}var qe=function(e){var t=e.match.params.quizCode,n=j.auth().currentUser.uid,s=Object(c.useState)(!0),i=Object(l.a)(s,2),a=i[0],d=i[1],u=Object(c.useState)([]),b=Object(l.a)(u,2),h=b[0],O=b[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var c,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/API/quizzes/responses",{method:"POST",body:JSON.stringify({quizCode:t,uid:n}),headers:{"Content-Type":"application/json"}});case 2:return c=e.sent,e.next=5,c.json();case 5:s=e.sent,console.log(s),O(s.finalResponse),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),console.log(h),a?Object(p.jsx)(x,{}):Object(p.jsxs)("div",{className:"margin-top",children:[Object(p.jsx)("h2",{children:"Responses"}),Object(p.jsx)(we,{responses:h})]})},Qe=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)("631f94860b91454dc86e31c0"),a=Object(l.a)(i,2),u=a[0];a[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uid){e.next=11;break}if(j.auth().currentUser.metadata.lastSignInTime!==j.auth().currentUser.metadata.creationTime){e.next=11;break}return e.prev=2,e.next=5,fetch("/API/users/create",{method:"POST",body:JSON.stringify({uid:n.uid,name:n.name,email:n.email,attemptedQuiz:[],lastQuestion:0}),headers:{"Content-Type":"application/json"}});case 5:console.log("posted"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("User Creation Error: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),Object(p.jsx)("div",{className:"App",children:j.auth().currentUser?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsx)(Ne,{user:n,setUser:s})}),Object(p.jsxs)(d.d,{children:[Object(p.jsx)(d.b,{exact:!0,path:"/",children:Object(p.jsx)(f,{user:n})}),Object(p.jsx)(d.b,{path:"/dashboard",children:Object(p.jsx)(re,{user:n})}),Object(p.jsx)(d.b,{path:"/create-quiz",children:Object(p.jsx)(ne,{user:n})}),Object(p.jsx)(d.b,{path:"/created-succesfully/:quizCode",component:le}),Object(p.jsx)(d.b,{path:"/join-quiz",children:Object(p.jsx)(ce,{user:n,quizCode:u})}),Object(p.jsx)(d.b,{path:"/attempt-quiz/:quizCode",component:he}),Object(p.jsx)(d.b,{path:"/responses/:quizCode",component:qe}),Object(p.jsx)(d.b,{component:de})]})]}):Object(p.jsx)(m,{setUser:s})})};a.a.render(Object(p.jsx)(se.a,{children:Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(Qe,{})})}),document.getElementById("root"))},75:function(e,t,n){},99:function(e,t,n){}},[[162,1,2]]]);
//# sourceMappingURL=main.6aa47741.chunk.js.map